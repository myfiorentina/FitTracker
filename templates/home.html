{% extends "layout.html" %}
{% block content %}
<h2 class="text-2xl font-semibold mb-4 text-center">Benvenuto, {{ username }}!</h2>
<p class="text-center">Qui potrai gestire i tuoi pasti e le pesate giornaliere.</p>

{% if ultimo_pasto %}
<div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 my-6 shadow rounded">
  <h3 class="font-semibold text-lg mb-2">🍽️ Commento sull'ultimo pasto ({{ ultimo_pasto.tipo }})</h3>
  <p class="text-gray-800 text-sm italic whitespace-pre-line">
    {{ ultimo_pasto.commento_dietetico or 'Nessun commento disponibile.' }}
  </p>
</div>
{% endif %}

<div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-2 gap-6 mt-8">

  <!-- Riquadro Inserimenti -->
  <div class="bg-white p-4 rounded shadow border">
    <h3 class="text-lg font-semibold mb-4">📥 Inserimenti</h3>
    <div class="space-y-3">
      <a href="{{ url_for('inserisci_pasto') }}" class="block bg-gray-100 p-3 rounded hover:bg-gray-200 text-center">📋 Inserisci Pasto</a>
      <a href="{{ url_for('inserisci_pesata') }}" class="block bg-gray-100 p-3 rounded hover:bg-gray-200 text-center">⚖️ Inserisci Pesata</a>
    </div>
  </div>

  <!-- Riquadro Storici -->
  <div class="bg-white p-4 rounded shadow border">
    <h3 class="text-lg font-semibold mb-4">📚 Storici</h3>
    <div class="space-y-3">
      <a href="{{ url_for('storico_pasti') }}" class="block bg-gray-100 p-3 rounded hover:bg-gray-200 text-center">📖 Storico Pasti</a>
      <a href="{{ url_for('storico_pesate') }}" class="block bg-gray-100 p-3 rounded hover:bg-gray-200 text-center">📊 Storico Pesate</a>
    </div>
  </div>

  <!-- Riquadro Analisi -->
  <div class="bg-white p-4 rounded shadow border">
    <h3 class="text-lg font-semibold mb-4">📈 Analisi e Report</h3>
    <div class="space-y-3">
      <a href="{{ url_for('report_pasti') }}" class="block bg-gray-100 p-3 rounded hover:bg-gray-200 text-center">📈 Report Pasti</a>
      <a href="{{ url_for('report_pesate') }}" class="block bg-gray-100 p-3 rounded hover:bg-gray-200 text-center">📉 Report Pesate</a>
      <a href="{{ url_for('analisi_pasti') }}" class="block bg-gray-100 p-3 rounded hover:bg-gray-200 text-center">📋 Analisi Pasti</a>
      <a href="{{ url_for('analisi_pesature') }}" class="block bg-gray-100 p-3 rounded hover:bg-gray-200 text-center">⚖️ Analisi Pesature</a>
    </div>
  </div>

  <!-- Riquadro Profilo, Feedback e Admin -->
  <div class="bg-white p-4 rounded shadow border">
    <h3 class="text-lg font-semibold mb-4">⚙️ Profilo e Amministrazione</h3>
    <div class="space-y-3">
      <a href="{{ url_for('profilo') }}" class="block bg-gray-100 p-3 rounded hover:bg-gray-200 text-center">👤 Profilo</a>
      <a href="{{ url_for('feedback') }}" class="block bg-gray-100 p-3 rounded hover:bg-gray-200 text-center">💬 Feedback</a>
      {% if session.get('role') == 'admin' %}
      <a href="{{ url_for('admin_utenti') }}" class="block bg-red-600 text-white p-3 rounded hover:bg-red-700 text-center">🛠️ Gestione Utenti (Admin)</a>
      {% endif %}
      {% if username == 'myfiorentina' %}
      <a href="{{ url_for('feedback_admin') }}" class="block bg-indigo-100 p-3 rounded hover:bg-indigo-200 text-center">📥 Feedback Ricevuti (Admin)</a>
      {% endif %}
    </div>
  </div>

</div>
{% endblock %}
